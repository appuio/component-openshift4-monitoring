applications:
  - cilium
  - espejote
  - networkpolicy

parameters:
  kapitan:
    dependencies:
      - type: https
        source: https://raw.githubusercontent.com/projectsyn/component-espejote/master/lib/espejote.libsonnet
        output_path: vendor/lib/espejote.libsonnet

  espejote:
    namespace: syn-espejote

  networkpolicy:
    labels:
      noDefaults: label-no-defaults
      purgeDefaults: label-purge-defaults

  openshift4_monitoring:
    alerts:
      ignoreUserWorkload:
        - AlertmanagerFailedToSendAlerts
        - AlertmanagerClusterFailedToSendAlerts
        - PrometheusOperatorRejectedResources
        - PrometheusBadConfig
        - PrometheusDuplicateTimestamps
        - PrometheusOutOfOrderTimestamps
        - PrometheusRuleFailures
        - PrometheusMissingRuleEvaluations
        - PrometheusTargetLimitHit
        - PrometheusLabelLimitHit
        - PrometheusScrapeBodySizeLimitHit
        - PrometheusScrapeSampleLimitHit
        - PrometheusTargetSyncFailure
    configsUserWorkload:
      prometheus:
        nodeSelector:
          appuio.io/dedicated: monitoring
        tolerations:
          - key: "appuio.io/dedicated"
            operator: "Exists"
            effect: "NoSchedule"
